<launch>
  <arg name="video_stream_url" default="rtsp://192.168.144.108:554/stream=1"/>
  <!-- Prefer FFmpeg and TCP by default to match 'ffplay -rtsp_transport tcp' -->
  <arg name="backend" default="ffmpeg"/>
  <arg name="rtsp_transport" default="tcp"/>
  <arg name="timeout_ms" default="5000"/>
  <!-- Enable FFmpeg low-latency options by default -->
  <arg name="ffmpeg_low_latency" default="true"/>
  <!-- Optional: override FFmpeg capture options; format: key;val|key;val -->
  <arg name="ffmpeg_capture_options" default=""/>

  <node pkg="rc_gimbal_bridge" name="rtsp_camera_relay" type="rtsp_camera_relay_node">
    <param name="video_stream_url" value="$(arg video_stream_url)"/>
    <param name="backend" value="$(arg backend)"/>
    <param name="rtsp_transport" value="$(arg rtsp_transport)"/>
    <param name="timeout_ms" value="$(arg timeout_ms)"/>
    <param name="ffmpeg_low_latency" value="$(arg ffmpeg_low_latency)"/>
    <param name="ffmpeg_capture_options" value="$(arg ffmpeg_capture_options)"/>
  </node>
</launch>
